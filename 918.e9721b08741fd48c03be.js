"use strict";(self.webpackChunkadmin_dashboard=self.webpackChunkadmin_dashboard||[]).push([[918],{4918:(q,b,o)=>{o.r(b),o.d(b,{ProductsModule:()=>w});var y=o(2057),h=o(9306),v=o(5319),x=o(6363),f=o(5917),g=o(8364),m=o(2340),M=o(5257),T=o(2996),p=o(3342),t=o(1989),C=o(5464),A=o(2790),O=o(8567);function E(i,u){if(1&i&&(t.TgZ(0,"h2"),t._uU(1),t.qZA()),2&i){const e=u.$implicit;t.Tol(e.class),t.xp6(1),t.hij(" ",e.y[e.x.view.subProp]," ")}}function P(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){return t.CHM(e).$implicit.click()}),t._uU(1),t.qZA()}if(2&i){const e=u.$implicit;t.Tol(e.class),t.xp6(1),t.hij(" ",e.x.view.text," ")}}function Z(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){return t.CHM(e).$implicit.click()}),t._uU(1),t.qZA()}if(2&i){const e=u.$implicit;t.Tol(e.class),t.xp6(1),t.Oqu(e.x.view.text)}}function $(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"img",6),t.NdJ("click",function(){return t.CHM(e).$implicit.click()}),t.qZA()}if(2&i){const e=u.$implicit;t.Tol(e.class),t.Q6J("src",e.y[e.x.view.subProp],t.LSH)}}const j=function(){return{val:"Pod"}},_=function(){return{val:""}},B=function(){return{val:"Title0"}},I=function(){return{val:"Pod0"}},N=[{path:"",component:(()=>{class i{constructor(e,r,d){this.ref=e,this.vcf=r,this.ryber=d,this.meta={name:"Products"},this.myClass=`a_p_p_${this.meta.name}View`,this.prefix={main:(0,g.Fq)({view:`${this.meta.name}Main`}),view:(0,g.Fq)({view:`${this.meta.name}`}),pods:Array(1).fill(null).map((n,a)=>(0,g.Fq)({view:`${this.meta.name}Pod`+a}))},this.subs=new v.w,this.model={title:{text:"products.title"},fn0:n=>{let{table:a,target:l}=n;return{title:a.util.pullValues({target:l.title}).title,price:a.util.pullValues({target:l.price}).price,img_url:a.util.pullValues({target:l.img_url}).image,desc:a.util.pullValues({target:l.desc}).description,quantity:a.util.pullValues({target:l.quantity}).amount}},table:{searchBy:{placeholder:{text:""},options:{items:Array(4).fill(null).map((n,a)=>({text:"",style:{},stateText:["title","price","quantity","desc"][a]}))},icon:{}},search:{label:{text:""},button:{text:""},reset:{text:""}},details:{create:{loading:this.ryber.loading,url:`${m.N.backend.url}/product/create`,method:"PUT",request:{text:"",clickAux:()=>{let{table:n}=this.model,a={title:{title:""},price:{price:""},img_url:{image:""},desc:{description:""},quantity:{amount:""}};return n.util.toInputInPlace({myResult:a}),a}},confirm:{text:"",clickAux:()=>{let{table:n,fn0:a}=this.model,{target:l}=n.details.values;return{body:{data:a({table:n,target:l})}}}}},update:{text:"",loading:this.ryber.loading,method:"PATCH",url:`${m.N.backend.url}/product/update`,clickAux:()=>{let{table:n,fn0:a}=this.model,{target:l,meta:s}=n.details.values;return{body:{data:{title:s.title.value,update_body:a({table:n,target:l})}}}}},delete:{text:"",loading:this.ryber.loading,url:`${m.N.backend.url}/product/delete`,method:"DELETE",clickAux:()=>{let{meta:a}=this.model.table.details.values;return{body:{data:{title:a.title.value}}}}}},pages:{per:{input:{value:20},label:{text:""}},current:{input:{value:1}}},headers:{items:Array(6).fill(null).map((n,a)=>({title:{text:""},sort:{confirm:[!0,!1,!0,!0,!0,!1][a]},view:{subProp:["title","img_url","price","quantity","desc","modify"][a],text:"",type:["text","image","text","text","view","modify"][a]}}))},db:{items:[],displayItems:[]},util:{listItems:()=>{let{model:n,ryber:a}=this,l=parseInt(n.table.pages.current.input.value)-1,s=parseInt(n.table.pages.per.input.value);(0,x.s)(()=>!n.table.pages.list.retrieved.has(l),a.http.post(`${m.N.backend.url}/product/list`,{data:{pages:{page:l,per_page:s}}}),(0,f.of)({})).pipe((0,M.q)(1),(0,T.j)("message","list"),(0,p.b)(c=>{n.table.db.xhrItems.next({data:c})})).subscribe()},metaForEntry:n=>{let{entry:a}=n,l={};return["title","img_url","price","quantity","desc"].map((s,c)=>{l[s]={value:a[s].toString()}}),l},customInteractMods:n=>{let c,{model:a}=this,{key:l,item:s}=n;switch(l){case"desc":return c={description:{"":s}},c;case"img_url":return c={img_url:{image:s}},c;case"modify":return c={title:{title:s.title},price:{price:s.price},img_url:{image:s.img_url},desc:{description:s.desc},quantity:{amount:s.quantity}},a.table.util.toInputInPlace({myResult:c}),c}return!1}}}}}ngOnInit(){let{ryber:e,model:r,subs:n}=this;[e.translate.get("products.search.button").pipe((0,p.b)(l=>{r.table.search.button.text=l})),e.translate.get("products.search.label").pipe((0,p.b)(l=>{r.table.search.label.text=l})),e.translate.get("products.searchBy.placeholder").pipe((0,p.b)(l=>{r.table.searchBy.placeholder.text=l})),e.translate.get("products.searchBy.options").pipe((0,p.b)(l=>{r.table.searchBy.options.items.forEach((s,c)=>{s.text=l[c]})})),e.translate.get("products.reset").pipe((0,p.b)(l=>{r.table.search.reset.text=l})),e.translate.get("products.create").pipe((0,p.b)(l=>{r.table.details.create.request.text=l,r.table.details.create.confirm.text=l})),e.translate.get("products.delete").pipe((0,p.b)(l=>{r.table.details.delete.text=l})),e.translate.get("products.update").pipe((0,p.b)(l=>{r.table.details.update.text=l})),e.translate.get("products.pages.per.label").pipe((0,p.b)(l=>{r.table.pages.per.label.text=l})),e.translate.get("products.headers").pipe((0,p.b)(l=>{r.table.headers.items.forEach((s,c)=>{s.title.text=l[c].title,s.view.text=l[c].view})}))].map((l,s)=>{n.add(l.subscribe())})}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(t.s_b),t.Y36(C.p))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-main"]],hostVars:2,hostBindings:function(e,r){2&e&&t.Tol(r.myClass)},decls:14,vars:20,consts:[[3,"table","textEntry","viewEntry","modifyEntry","imageEntry"],["text",""],["view",""],["modify",""],["image",""],[3,"click"],[3,"src","click"]],template:function(e,r){if(1&e&&(t.TgZ(0,"main"),t.TgZ(1,"section"),t.TgZ(2,"h1"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t._UZ(5,"app-inventory",0),t.qZA(),t.YNc(6,E,2,3,"ng-template",null,1,t.W1O),t.YNc(8,P,2,3,"ng-template",null,2,t.W1O),t.YNc(10,Z,2,3,"ng-template",null,3,t.W1O),t.YNc(12,$,1,3,"ng-template",null,4,t.W1O)),2&e){const d=t.MAs(7),n=t.MAs(9),a=t.MAs(11),l=t.MAs(13);t.Tol(r.prefix.main(t.DdM(16,j))),t.xp6(1),t.Tol(r.prefix.pods[0](t.DdM(17,_))),t.xp6(1),t.Tol(r.prefix.pods[0](t.DdM(18,B))),t.xp6(1),t.Oqu(t.lcZ(4,14,r.model.title.text)),t.xp6(2),t.Tol(r.prefix.main(t.DdM(19,I))),t.Q6J("table",r.model.table)("textEntry",d)("viewEntry",n)("modifyEntry",a)("imageEntry",l)}},directives:[A.d],pipes:[O.X$],encapsulation:2,changeDetection:0}),i})()}];let k=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[h.Bz.forChild(N)],h.Bz]}),i})();var F=o(5209);let w=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[y.ez,k,F.m]]}),i})()}}]);