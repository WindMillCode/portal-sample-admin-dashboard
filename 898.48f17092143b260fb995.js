"use strict";(self.webpackChunkadmin_dashboard=self.webpackChunkadmin_dashboard||[]).push([[898],{2898:(D,h,o)=>{o.r(h),o.d(h,{UsersModule:()=>F});var v=o(2057),f=o(9306),y=o(5319),x=o(6363),C=o(5917),g=o(8364),b=o(2340),M=o(5257),A=o(2996),c=o(3342),e=o(1989),T=o(5464),O=o(2790),I=o(8567);function j(r,p){if(1&r&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&r){const s=p.$implicit;e.Tol(s.class),e.xp6(1),e.hij(" ",s.y[s.x.view.subProp]," ")}}function E(r,p){if(1&r){const s=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(s).$implicit.click()}),e._uU(1),e.qZA()}if(2&r){const s=p.$implicit;e.Tol(s.class),e.xp6(1),e.hij(" ",s.x.view.text," ")}}function Z(r,p){if(1&r){const s=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(s).$implicit.click()}),e._uU(1),e.qZA()}if(2&r){const s=p.$implicit;e.Tol(s.class),e.xp6(1),e.hij(" ",s.x.view.text," ")}}const w=function(){return{val:"Pod"}},B=function(){return{val:""}},U=function(){return{val:"Title0"}},$=function(){return{val:"Pod0"}},N=[{path:"",component:(()=>{class r{constructor(s,d,u){this.ref=s,this.vcf=d,this.ryber=u,this.meta={name:"Users"},this.myClass=`a_p_p_${this.meta.name}View`,this.prefix={main:(0,g.Fq)({view:`${this.meta.name}Main`}),view:(0,g.Fq)({view:`${this.meta.name}`}),pods:Array(4).fill(null).map((n,a)=>(0,g.Fq)({view:`${this.meta.name}Pod`+a}))},this.subs=new y.w,this.target={fn0:n=>{let{table:a,target:t}=n;return{user:a.util.pullValues({target:t.user}).username,pass:a.util.pullValues({target:t.pass}).password,billing:{items:a.util.pullValues({target:t.billing})},shipping:{info:{items:a.util.pullValues({target:t.shipping})}}}},table:{searchBy:{placeholder:{text:""},options:{items:Array(2).fill(null).map((n,a)=>({text:"",style:{},stateText:["user","latestOrderId"][a]}))},icon:{}},search:{label:{text:""},button:{text:""},reset:{text:""}},details:{create:{loading:this.ryber.loading,url:`${b.N.backend.url}/users/create`,method:"PUT",request:{text:"",clickAux:()=>{let{table:n}=this.target,i={user:{username:""},pass:{password:""},billing:Object.fromEntries(["First Name","Last Name","Email","Phone","Address","City","State","Zip Code","Country"].map((l,m)=>[l.toLowerCase().split(" ").join("_"),""])),shipping:Object.fromEntries(["First Name","Last Name","Email","Phone","Address","City","State","Zip Code","Country"].map((l,m)=>[l.toLowerCase().split(" ").join("_"),""]))};return n.util.toInputInPlace({myResult:i}),i}},confirm:{text:"",clickAux:()=>{let{table:n,fn0:a}=this.target,{target:t}=n.details.values,i=a({table:n,target:t});return i.shipping.sameAsBilling={checked:!1},{body:{data:i}}}}},update:{text:"",loading:this.ryber.loading,url:`${b.N.backend.url}/users/adminUpdate`,method:"PATCH",clickAux:()=>{let{table:n,fn0:a}=this.target,{target:t,meta:i}=n.details.values;return{body:{data:{user:i.user.value,update_body:a({table:n,target:t})}}}}},delete:{text:"",loading:this.ryber.loading,url:`${b.N.backend.url}/users/adminDelete`,method:"DELETE",clickAux:()=>{let{meta:a}=this.target.table.details.values;return{body:{data:{user:a.user.value}}}}}},pages:{per:{input:{value:20},label:{text:""}},current:{input:{value:1}}},headers:{items:Array(6).fill(null).map((n,a)=>({title:{text:""},sort:{confirm:[!0,!0,!1,!1,!1,!1][a]},view:{subProp:["user","latestOrderId","orderId","shipping","billing","modify"][a],text:"",type:["text","text","view","view","view","modify"][a]}}))},db:{items:[],displayItems:[]},util:{listItems:()=>{let{target:n,ryber:a}=this,t=parseInt(n.table.pages.current.input.value)-1,i=parseInt(n.table.pages.per.input.value);(0,x.s)(()=>!n.table.pages.list.retrieved.has(t),a.http.post(`${b.N.backend.url}/users/list`,{data:{filter:["myPass","shipping_same_as_billing","cartId"],pages:{page:t,per_page:i}}}),(0,C.of)({})).pipe((0,M.q)(1),(0,A.j)("message","list"),(0,c.b)(l=>{l=null==l?void 0:l.map((m,S)=>(m.latestOrderId=m.orderId.slice(-1)[0],m)),n.table.db.xhrItems.next({data:l})})).subscribe()},metaForEntry:n=>{let{entry:a}=n,t={};return["user","latestOrderId"].map((i,l)=>{var m;t[i]={value:(null===(m=a[i])||void 0===m?void 0:m.toString())||""}}),t},customInteractMods:n=>{let{target:a}=this,{key:t,item:i}=n;switch(console.log(t,i),t){case"orderId":return{"orderId's":Object.entries(i)};case"shipping":return{info:i.info.items,sameAsBilling:i.sameAsBilling};case"modify":let l={user:{username:i.user},pass:{passowrd:i.pass},billing:i.billing.items,shipping:Object.assign({},i.shipping.info.items)};return a.table.util.toInputInPlace({myResult:l}),l;default:return!1}}}}}}ngOnInit(){let{ryber:s,target:u,subs:n}=this;[s.translate.get("users.search.button").pipe((0,c.b)(t=>{u.table.search.button.text=t})),s.translate.get("users.search.label").pipe((0,c.b)(t=>{u.table.search.label.text=t})),s.translate.get("users.searchBy.placeholder").pipe((0,c.b)(t=>{u.table.searchBy.placeholder.text=t})),s.translate.get("users.searchBy.options").pipe((0,c.b)(t=>{u.table.searchBy.options.items.forEach((i,l)=>{i.text=t[l]})})),s.translate.get("users.reset").pipe((0,c.b)(t=>{u.table.search.reset.text=t})),s.translate.get("users.create").pipe((0,c.b)(t=>{u.table.details.create.request.text=t,u.table.details.create.confirm.text=t})),s.translate.get("users.delete").pipe((0,c.b)(t=>{u.table.details.delete.text=t})),s.translate.get("users.update").pipe((0,c.b)(t=>{u.table.details.update.text=t})),s.translate.get("users.pages.per.label").pipe((0,c.b)(t=>{u.table.pages.per.label.text=t})),s.translate.get("users.headers").pipe((0,c.b)(t=>{u.table.headers.items.forEach((i,l)=>{i.title.text=t[l].title,i.view.text=t[l].view})}))].map((t,i)=>{n.add(t.subscribe())})}ngOnDestroy(){this.subs.unsubscribe()}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(e.sBO),e.Y36(e.s_b),e.Y36(T.p))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-main"]],hostVars:2,hostBindings:function(s,d){2&s&&e.Tol(d.myClass)},decls:12,vars:19,consts:[[3,"table","textEntry","viewEntry","modifyEntry"],["text",""],["view",""],["modify",""],[3,"click"]],template:function(s,d){if(1&s&&(e.TgZ(0,"main"),e.TgZ(1,"section"),e.TgZ(2,"h1"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e._UZ(5,"app-inventory",0),e.qZA(),e.YNc(6,j,2,3,"ng-template",null,1,e.W1O),e.YNc(8,E,2,3,"ng-template",null,2,e.W1O),e.YNc(10,Z,2,3,"ng-template",null,3,e.W1O)),2&s){const u=e.MAs(7),n=e.MAs(9),a=e.MAs(11);e.Tol(d.prefix.main(e.DdM(15,w))),e.xp6(1),e.Tol(d.prefix.pods[0](e.DdM(16,B))),e.xp6(1),e.Tol(d.prefix.pods[0](e.DdM(17,U))),e.xp6(1),e.Oqu(e.lcZ(4,13,"users.title")),e.xp6(2),e.Tol(d.prefix.main(e.DdM(18,$))),e.Q6J("table",d.target.table)("textEntry",u)("viewEntry",n)("modifyEntry",a)}},directives:[O.d],pipes:[I.X$],encapsulation:2,changeDetection:0}),r})()}];let P=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[f.Bz.forChild(N)],f.Bz]}),r})();var k=o(5209);let F=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[v.ez,P,k.m]]}),r})()}}]);